var __extends=this.__extends||function(t,o){function e(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);e.prototype=o.prototype,t.prototype=new e};define(["require","exports","ViewModel","List","TodoModel"],function(t,o,e,n,r){var s=function(t){function o(){t.apply(this,arguments),this.newTodo="",this.todos=new n,this.allChecked=!1}return __extends(o,t),o.prototype.addTodo=function(){return this.todos.insertAt(0,new r(this.newTodo)),this.newTodo="",this.change(),!1},o.prototype.countTodos=function(t){for(var o=0,e=0;e<this.todos.getCount();e++)t(this.todos.getAt(e))&&o++;return o},o.prototype.completedCount=function(){return this.countTodos(function(t){return t.isCompleted})},o.prototype.remainingCountMessage=function(){var t=this.countTodos(function(t){return!t.isCompleted});return"<strong>"+t+"</strong> item"+(1==t?"":"s")+" remaining"},o.prototype.completedCountMessage=function(){var t=this.completedCount();return"Clear completed ("+t+")"},o.prototype.clearCompletedTodos=function(){for(var t=0;t<this.todos.getCount();t++)this.todos.getAt(t).isCompleted&&this.todos.removeAt(t--)},o.prototype.areAllComplete=function(){for(var t=!0,o=0;o<this.todos.getCount();o++)if(!this.todos.getAt(o).isCompleted){t=!1;break}return t},o.prototype.markAll=function(){for(var t=!this.areAllComplete(),o=0;o<this.todos.getCount();o++)this.todos.getAt(o).setData({isCompleted:t});return!1},o.prototype.removeTodo=function(t){this.todos.remove(t)},o}(e);return s});