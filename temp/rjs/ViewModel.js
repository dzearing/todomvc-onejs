define(["require","exports","EventGroup"],function(t,e,i){var n=function(){function t(e){this.isViewModel=!0,this.__id=t.__instanceCount++,this.__events=new i(this),this.__events.declare("change"),this.setData(e)}return t.prototype.initialize=function(){this.setData(this,!1,!0),this.onInitialize()},t.prototype.onInitialize=function(){},t.prototype.dispose=function(){this.__events.dispose(),this.onDispose()},t.prototype.onDispose=function(){},t.prototype.setData=function(t,e,n){var s=!1;for(var o in t)if(t.hasOwnProperty(o)&&0!==o.indexOf("__")&&"setData"!==o&&"dispose"!==o&&"change"!==o){var a=this[o],h=t[o];(a!==h||n)&&(a&&i.isDeclared(a,"change")&&this.__events.off(a),this[o]=h,s=!0,h&&i.isDeclared(h,"change")&&this.__events.on(h,"change",this.change))}(s&&e!==!1||e===!0)&&this.__events.raise("change")},t.prototype.change=function(t){this.__events.raise("change",t)},t.__instanceCount=0,t}();return n});